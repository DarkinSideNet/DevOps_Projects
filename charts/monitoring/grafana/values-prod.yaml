grafana:
  # Admin credentials
  adminUser: admin
  adminPassword: admin123  # Change this in production!

  # Ingress configuration
  ingress:
    enabled: true
    ingressClassName: traefik
    annotations:
      cert-manager.io/cluster-issuer: "letsencrypt-prod"
      traefik.ingress.kubernetes.io/router.entrypoints: websecure
    hosts:
      - grafana.neikoscloud.net
    tls:
      - secretName: grafana-tls
        hosts:
          - grafana.neikoscloud.net

  # Persistence
  persistence:
    enabled: true
    type: pvc
    storageClassName: gp2
    accessModes:
      - ReadWriteOnce
    size: 10Gi

  # Resources
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: 500m
      memory: 1Gi

  # Data sources
  datasources:
    datasources.yaml:
      apiVersion: 1
      datasources:
        - name: Prometheus
          type: prometheus
          url: http://prometheus-kube-prometheus-prometheus.monitoring:9090
          access: proxy
          isDefault: true
          editable: false

  # Dashboard providers
  dashboardProviders:
    dashboardproviders.yaml:
      apiVersion: 1
      providers:
        - name: 'default'
          orgId: 1
          folder: ''
          type: file
          disableDeletion: false
          editable: true
          options:
            path: /var/lib/grafana/dashboards/default

  # Pre-installed dashboards
  dashboards:
    default:
      # Kubernetes cluster monitoring
      kubernetes-cluster:
        gnetId: 7249
        revision: 1
        datasource: Prometheus
      # Node exporter
      node-exporter:
        gnetId: 1860
        revision: 27
        datasource: Prometheus
      # Kubernetes pods
      kubernetes-pods:
        gnetId: 6417
        revision: 1
        datasource: Prometheus
      # Persistent volumes
      persistent-volumes:
        gnetId: 13646
        revision: 2
        datasource: Prometheus

  # Plugins
  plugins:
    - grafana-piechart-panel
    - grafana-worldmap-panel

  # Environment variables
  env:
    GF_SERVER_ROOT_URL: "https://grafana.neikoscloud.net"
    GF_SECURITY_ADMIN_PASSWORD: admin123
